---
title: å»é™¤CKFinderç‰ˆæƒä¿¡æ¯ä»¥åŠå¯ç”¨æ–‡ä»¶ç§»åŠ¨åŠŸèƒ½
date: 2017-05-14 20:12:44
tags: [J2EE, CKFinder, CKEditor]
---

æœ€è¿‘åœ¨åšæ¯•ä¸šè®¾è®¡ï¼Œä½¿ç”¨åˆ°äº†CkEditorå’ŒCkFinderæ¥åšå¯Œæ–‡æœ¬ç¼–è¾‘æ¡†ä»¥åŠæ–‡ä»¶ç®¡ç†ã€‚
å› ä¸ºCkFinderåªèƒ½ä¸‹è½½ä½¿ç”¨Demoç‰ˆæœ¬ï¼Œä¼šæœ‰ä¸€äº›ç‰ˆæƒä¿¡æ¯ã€‚
æˆ‘ä¸æ˜¯ç”¨åšå•†ä¸šç›®çš„ï¼Œä»…ä»…ä¸ºäº†å­¦ä¹ ï¼Œæ‰€ä»¥æƒ³æŠŠç‰ˆæƒä¿¡æ¯å»æ‰ã€‚
çœ‹äº†å‡ ç¯‡åšå®¢ï¼Œéƒ½æ˜¯æ•™ä½ æŠŠalertæ¡†åŠ ä¸Š`display:none`ï¼Œæˆ‘è€ƒè™‘åˆ°è¿™æ ·å¹¶ä¸å¥½ï¼Œå› ä¸ºå¦‚æœæœ‰å…¶ä»–æ­£å¸¸çš„ä¿¡æ¯ä¹Ÿä¸èƒ½æ˜¾ç¤ºäº†ï¼Œæ‰€ä»¥èŠ±äº†äº›æ—¶é—´æ”¹äº†ä¸‹ckfinder.jsï¼Œæ—¢å»æ‰äº†ç‰ˆæƒä¿¡æ¯ï¼Œåˆä¸ä¼šå½±å“å…¶ä»–ä¿¡æ¯çš„æç¤ºã€‚

**ä¸‹æ–‡æä¾›äº†ä¸¤ç§æ–¹æ³•ï¼Œå»ºè®®ä½¿ç”¨ç¬¬äºŒç§ã€‚**

**å¦‚æœä½ æ˜¯ç”¨äºå•†ä¸šç›®çš„ï¼Œè¯·åˆ°[å®˜ç½‘](https://cksource.com/ckfinder/buy)è´­ä¹°ä½¿ç”¨çš„Licenseä½¿ç”¨ã€‚**

<!--more-->


_**CKFinderç‰ˆæœ¬: Version: 2.6.2.1 â€¢ Released 11 Oct 2016**_

ä¸æƒ³è‡ªå·±æ“ä½œè¿™ä¹ˆéº»çƒ¦çš„ï¼Œå»CSDNä¸‹è½½æˆ‘ä¸Šä¼ å¥½çš„ï¼Œ2ç§¯åˆ† å“ˆå“ˆå“ˆ   
é“¾æ¥ï¼š[http://download.csdn.net/detail/qq1255685485/9845062](http://download.csdn.net/detail/qq1255685485/9845062)


# ç¬¬ä¸€ç§

ç¬¬ä¸€ç§éº»çƒ¦è€Œä¸”éœ€è¦é€»è¾‘æ”¹åŠ¨è¾ƒå¤§ã€‚

## å·¦ä¸‹è§’ä¿¡æ¯

åœ¨ckfinder.jsä¸­æœç´¢:
		
	t="\x54\150\151\163\040\x69\163\x20\164\x68\145\040\x44\105\x4d\x4f\040\166\x65\x72\x73\x69\157\156\x20\157\146\040\103\113\x46\151\x6e\144\145\x72\056\040\120\154\x65\141\163\145\040\166\x69\x73\x69\x74\x20\164\150\145\040\x3c\x61\x20\150\162\x65\x66\x3d\x27\150\164\x74\x70\x3a\x2f\x2f\x63\x6b\163\157\x75\x72\x63\x65\056\143\x6f\x6d\057\143\153\146\151\x6e\144\x65\162\x27\x20\164\141\162\x67\x65\x74\x3d\047\x5f\x62\154\141\x6e\x6b\x27\x3e\x43\x4b\106\151\156\144\x65\x72\040\x77\145\x62\040\163\151\x74\x65\x3c\x2f\x61\x3e\x20\164\157\040\x6f\x62\x74\141\x69\x6e\x20\141\040\166\x61\154\151\144\040\x6c\151\x63\x65\156\163\x65\x2e"
	
	
ä½ç½®åœ¨æ–‡ä»¶æ¯”è¾ƒé åçš„ä½ç½®ï¼Œæ›¿æ¢ä¸º:

	t=""
	
è¿™ä¸€å¥çš„è§£ç åä¸º:

	This is the DEMO version of CKFinder.Please visit the <a href='http://cksource.com/ckfinder' target='_blank'>CKFinder web site</a> to obtain a valid license.
	
å¯ä»¥åœ¨ [http://ddecode.com/hexdecoder](http://ddecode.com/hexdecoder) è§£ç 
	
## é¡¶ç«¯ä¿¡æ¯

åœ¨ckfinder.jsä¸­æœç´¢:

	P="\x50\x6c\x65\141\x73\x65\040\166\151\x73\x69\x74\x20\164\x68\x65\040\074\141\040\x68\162\x65\146\075\x27\x68\164\x74\160\072\057\057\x63\x6b\x73\x6f\x75\x72\x63\x65\056\x63\157\155\057\143\x6b\x66\151\x6e\x64\x65\x72\x27\x20\x74\141\162\147\145\x74\x3d\x27\x5f\x62\154\141\x6e\153\x27\x3e\x43\x4b\106\x69\x6e\x64\x65\162\x20\x77\x65\142\x20\x73\x69\x74\145\x3c\x2f\x61\x3e\040\x74\x6f\x20\157\142\x74\x61\151\156\x20\141\040\166\141\154\151\x64\040\154\151\143\145\x6e\163\145\x2e",Q="\x54\150\x69\163\x20\151\x73\040\x74\x68\x65\040\x44\x45\x4d\117\040\x76\x65\x72\163\x69\157\156\x20\157\x66\040\x43\x4b\106\x69\156\144\145\x72\x2e\x20"+P,R="\x50\162\157\144\x75\x63\164\040\154\151\143\x65\156\163\145\x20\150\141\x73\x20\x65\x78\160\x69\162\145\144\x2e\040"+P;
	
	
è¿™é‡Œå®šä¹‰äº†ä¸‰ä¸ªå˜é‡P, Q, R, åˆ†åˆ«ä»£è¡¨çš„æ„æ€å¦‚ä¸‹:

	P="Please visit the <a href='http://cksource.com/ckfinder' target='_blank'>CKFinder web site</a> to obtain a valid license.";
	Q="This is the DEMO version of CKFinder." + P;
	R="Product license has expired." + P;

å°†æœç´¢åˆ°çš„å†…å®¹æ›¿æ¢ä¸º

	P=""; Q=""; R="";
	
æ›¿æ¢å®Œæˆåå‘ç°æ–‡ä»¶åº“ä¸ºç©ºç™½ï¼Œæ›´å…·ä½“å¯ä»¥è¯´ï¼Œå½“å°†`Q`è®¾ç½®ä¸ºç©ºç™½å­—ç¬¦ä¸²ä¹‹åæ‰ä¼šæ˜¾ç¤ºç©ºç™½ï¼Œè€Œæ›¿æ¢`P`å’Œ`R`éƒ½ä¸ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œå› ä¸ºä»£ç åé¢å¯¹`Q`çš„å€¼åšäº†åˆ¤æ–­.

æ‰€ä»¥æˆ‘ä»¬ç»§ç»­å‘ä¸‹çœ‹ï¼Œç»§ç»­æœç´¢ï¼š

	if(!Q)
	
å¯ä»¥çœ‹åˆ°è¿™ä¸ªåˆ¤æ–­`if(!Q) return;`,åˆ é™¤è¿™ä¸€ä¸ªåˆ¤æ–­ä½“.

è¿˜æ²¡æœ‰ç»“æŸï¼Œç»§ç»­æœç´¢:

	Q.charAt
	
å¯ä»¥çœ‹åˆ°å¦å¤–ä¸€ä¸ªåˆ¤æ–­`if(pw||Q.charAt(2<<2)!='t')return;`ï¼Œä¸ºäº†ä¿è¯æ­£å¸¸ä½¿ç”¨ï¼Œå°†è¿™ä¸ªåˆ¤æ–­ä½“æ›¿æ¢ä¸º:

	if(pw) return;
	
å¦å¤–å¤šè¯´ä¸€å¥ï¼Œ`Q`å˜é‡åˆ é™¤åˆ°`Q="\x54\150\x69\163\x20\151\x73\040\x74"`çš„æ—¶å€™è¿˜èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯`Q="This is t"`ï¼Œå¯ä»¥åšäº›å°è¯•ã€‚

å½“ä»¥ä¸Šå·¥ä½œå…¨éƒ¨å®Œæˆä¹‹åï¼Œåˆ·æ–°é¡µé¢å³å¯ä»¥çœ‹åˆ°ç‰ˆæƒä¿¡æ¯å…¨éƒ¨å»æ‰äº†ï¼Œè€Œä¸”å¹¶æ²¡æœ‰å½±å“åˆ°å…¶ä»–ä¿¡æ¯çš„æé†’ã€‚


å“ˆå“ˆå“ˆğŸ˜‚ã€‚çœ‹åˆ°è¿™çš„éƒ½æ˜¯çœŸçˆ±ã€‚
é‚£ä¹ˆç»™ä½ ä»¬è¯´ä¸€ä¸ªæ›´ç®€å•çš„æ–¹æ³•ï¼Œåªéœ€ä¸‰æ­¥ï¼Œæ›´å®Œç¾çš„è§£å†³é—®é¢˜ã€‚

# ç¬¬äºŒç§

ç®€å•ï¼Œåªéœ€ä¸‰æ­¥

## å·¦ä¸‹è§’ä¿¡æ¯

æœç´¢: `this.dV().getChild(0).appendHtml`ï¼Œå¾ˆæ˜¾ç„¶æ˜¯ä¸ºå·¦ä¸‹è§’æ·»åŠ ä¿¡æ¯ï¼Œçœ‹è¿™ä¸€å¥ä¸Šé¢æœ‰ä¸ªifåˆ¤æ–­:

	 if (this.app.gd == 'bootstrap') {
         var H = "\x3c\x64\151\x76\x20\143\x6c\x61\x73\x73\x3d\x27\166\x69\145\167\x20\164\157\157\154\137\160\141\x6e\145\x6c\047\040\x73\x74\x79\154\145\075\047\x64\151\x73\x70\154\141\x79\x3a\x62\x6c\157\143\153\x20\x21\x69\x6d\160\157\x72\164\x61\x6e\164\x3b\160\x6f\163\x69\x74\151\x6f\x6e\072\x73\x74\x61\164\151\143\040\x21\x69\x6d\160\157\x72\164\x61\x6e\x74\x3b\x63\x6f\x6c\157\x72\x3a\043\x33\x31\x37\x30\x38\x66\x20\041\151\155\x70\157\x72\x74\x61\156\x74\073\x62\x61\x63\x6b\147\162\157\165\x6e\144\055\143\157\x6c\x6f\x72\x3a\x23\144\x39\145\144\146\x37\x20\x21\x69\x6d\x70\157\x72\x74\141\156\x74\073\146\x6f\156\164\x2d\x73\151\172\x65\x3a\x20\061\063\x70\170\073\040\x70\141\x64\144\x69\156\147\072\040\x35\x70\170\073\x20\155\141\162\147\x69\x6e\072\065\160\170\x3b\x62\157\162\144\x65\162\055\x72\141\144\x69\x75\x73\x3a\x34\160\x78\x3b\047\x3e";
         v = H + t + s;
         w = H + u + s;
     }
                            
è¿›è¡Œè§£ç å’Œå­—ç¬¦ä¸²ç»„åˆï¼Œå¯ä»¥çœ‹åˆ°å˜é‡`v`å°±æ˜¯ç‰ˆæƒä¿¡æ¯, `w`æ˜¯å·²ç»è´­ä¹°çš„ä¿¡æ¯ã€‚åœ¨æœç´¢åˆ°çš„`this.dV().getChild(0).appendHtml`æ‹¬å·é‡Œé¢ï¼Œæ”¹ä¸º:

	this.dV().getChild(0).appendHtml(C||D||A!=4?"":"");

	
ç®€è¨€ä¹‹å°±æ˜¯ä¸ç®¡ä¹°æ²¡ä¹°ï¼Œéƒ½ä¸æ˜¾ç¤ºè¿™ä¸ªæç¤ºï¼Œè®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²å°±å¥½äº†ã€‚

## é¡¶ç«¯ä¿¡æ¯

é¡¶ç«¯çš„å»å¤„ç‰ˆæƒä¿¡æ¯çš„æ–¹æ³•å’Œå·¦ä¸‹è§’ç±»ä¼¼ã€‚

æœç´¢: `aT.mj=Q` æ›¿æ¢ä¸º `aT.mj=Q.toLowerCase().indexOf("demo") ? "" : Q;`
æœç´¢: `aT.mj=R` æ›¿æ¢ä¸º `aT.mj=R.toLowerCase().indexOf("demo") ? "" : R;`

å¤§åŠŸå‘Šæˆï¼Œ æ›´å®Œç¾çš„è§£å†³äº†é—®é¢˜ï½ ğŸ˜
# 2017-5-17 æ›´æ–°ï¼šå¯ç”¨å‰ªåˆ‡åŠŸèƒ½

ä»Šå¤©å‘ç°è™½ç„¶ç‰ˆæƒä¿¡æ¯æ²¡æœ‰äº†ï¼Œä½†æ˜¯â€œä¸´æ—¶æ–‡ä»¶å¤¹â€åŠŸèƒ½â€œä»ä¸´æ—¶æ–‡ä»¶å¤¹å‰ªåˆ‡è‡³æ­¤â€åœ¨Demoç‰ˆæœ¬ä¸­ä¸èƒ½ä½¿ç”¨ï¼Œæç¤º:

	This function is disabled in the demo version of CKFinder.
	Please visit the CKFinder web site to obtain a valid license.
	

å¯ç”¨æ–¹æ³•ï¼š   

1. æœç´¢`z.app.msgDialog`, å¯ä»¥çœ‹åˆ°åŒ…å«å®ƒçš„æ˜¯ä¸€ä¸ªåˆ¤æ–­ã€‚

		if('balabalabalabalabala...') //è¿™ä¸ªåˆ¤æ–­å¾ˆé•¿
			æ˜¾ç¤ºè¿™æ˜¯Demoç‰ˆæœ¬ï¼Œä¸èƒ½ç”¨è¿™ä¸ªåŠŸèƒ½; 
		else 
			æ‰§è¡ŒæŒ‡ä»¤; 
		
	é‚£æˆ‘ä»¬è¦åšçš„å°±æ˜¯åªç•™ä¸‹éœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤å°±å¯ä»¥äº†ã€‚
	è¿™ä¸€æ­¥å®Œæˆï¼Œå°±å¯ä»¥ä»ä¸´æ—¶æ–‡ä»¶ä¸­ç§»åŠ¨æ–‡ä»¶äº†ã€‚

2. å’Œç¬¬1æ­¥ç±»ä¼¼ï¼Œæœç´¢`y.msgDialog`,åŒæ ·åŒ…å«å®ƒçš„æ˜¯ä¸€ä¸ªåˆ¤æ–­ï¼Œä¸åŒçš„æ˜¯è¿™ä¸ªåˆ¤æ–­ä½“çš„`else`éƒ¨åˆ†æ‰§è¡Œäº†å¤šæ¡æŒ‡ä»¤ã€‚åˆ é™¤åˆ¤æ–­åªç•™ä¸‹æŒ‡ä»¤å°±å¯ä»¥äº†ã€‚

	è¿™ä¸€æ­¥å®Œæˆï¼Œå°±å¯ä»¥åœ¨å„ä¸ªæ–‡ä»¶å¤¹ä¸­ç§»åŠ¨æ–‡ä»¶äº†ã€‚
	

è¿™æ ·æ–‡ä»¶çš„ç§»åŠ¨åŠŸèƒ½å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚æˆ‘å¥½åƒå¤ªåäº†ã€‚






	

	
	